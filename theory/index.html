
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the pyclugen cluster generation toolbox">
      
      
        <meta name="author" content="Nuno Fachada">
      
      
        <link rel="canonical" href="https://clugen.github.io/pyclugen/theory/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../generated/gallery/">
      
      <link rel="icon" href="https://raw.githubusercontent.com/clugen/.github/main/logos/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>Theory - pyclugen documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../sg_gallery-dataframe.css">
    
      <link rel="stylesheet" href="../sg_gallery-rendered-html.css">
    
      <link rel="stylesheet" href="../sg_gallery-binder.css">
    
      <link rel="stylesheet" href="../sg_gallery.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#theory" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="pyclugen documentation" class="md-header__button md-logo" aria-label="pyclugen documentation" data-md-component="logo">
      
  <img src="https://github.com/clugen/.github/blob/main/logos/apple-touch-icon-120x120.png?raw=true" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pyclugen documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Theory
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/clugen/pyclugen" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      Theory
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../generated/gallery/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../reference/" class="md-tabs__link">
      Reference
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../dev/" class="md-tabs__link">
      Development
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pyclugen documentation" class="md-nav__button md-logo" aria-label="pyclugen documentation" data-md-component="logo">
      
  <img src="https://github.com/clugen/.github/blob/main/logos/apple-touch-icon-120x120.png?raw=true" alt="logo">

    </a>
    pyclugen documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/clugen/pyclugen" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Theory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Theory
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-description" class="md-nav__link">
    Detailed description
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../generated/gallery/">Examples</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generated/gallery/plot_1_1d_examples/" class="md-nav__link">
        Examples in 1D
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generated/gallery/plot_2_2d_examples/" class="md-nav__link">
        Examples in 2D
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generated/gallery/plot_3_3d_examples/" class="md-nav__link">
        Examples in 3D
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generated/gallery/plot_4_nd_examples/" class="md-nav__link">
        Examples in nD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generated/gallery/plot_functions/" class="md-nav__link">
        Plot functions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        Reference
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../dev/" class="md-nav__link">
        Development
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="theory">Theory<a class="headerlink" href="#theory" title="Permanent link">&para;</a></h1>
<p>This section describes the theoretical framework of the <em>clugen</em> algorithm,
starting with a general <a href="#overview">Overview</a>, then moving on to a
<a href="#detailed-description">Detailed description</a>.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p><em>Clugen</em> is an algorithm for generating multidimensional clusters. Each cluster
is supported by a line segment, the position, orientation and length of which
guide where the respective points are placed. For brevity, <em>line segments</em> will
be referred to as <em>lines</em>.</p>
<p>Given an <span class="arithmatex">\(n\)</span>-dimensional direction vector <span class="arithmatex">\(\mathbf{d}\)</span> (and a number of
additional parameters, which will be discussed shortly), the <em>clugen</em> algorithm
works as follows (<span class="arithmatex">\(^*\)</span> means the algorithm step is stochastic):</p>
<ol>
<li>Normalize <span class="arithmatex">\(\mathbf{d}\)</span>.</li>
<li><span class="arithmatex">\(^*\)</span>Determine cluster sizes.</li>
<li><span class="arithmatex">\(^*\)</span>Determine cluster centers.</li>
<li><span class="arithmatex">\(^*\)</span>Determine lengths of cluster-supporting lines.</li>
<li><span class="arithmatex">\(^*\)</span>Determine angles between <span class="arithmatex">\(\mathbf{d}\)</span> and cluster-supporting lines.</li>
<li>For each cluster:</li>
<li><span class="arithmatex">\(^*\)</span>Determine direction of the cluster-supporting line.</li>
<li><span class="arithmatex">\(^*\)</span>Determine distance of point projections from the center of the
      cluster-supporting line.</li>
<li>Determine coordinates of point projections on the cluster-supporting line.</li>
<li><span class="arithmatex">\(^*\)</span>Determine points from their projections on the cluster-supporting
      line.</li>
</ol>
<p>Figure 1 provides a stylized overview of the algorithm's steps.</p>
<p><img alt="**Figure 1** - Stylized overview of the *clugen* algorithm. Background tiles
are 10 units wide and tall, when
applicable." src="https://raw.githubusercontent.com/clugen/.github/main/images/algorithm.png" /></p>
<p>The example in Figure 1 was generated with the following parameters, the exact
meaning of each will be discussed shortly:</p>
<table>
<thead>
<tr>
<th align="left">Parameter values</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><span class="arithmatex">\(n=2\)</span></td>
<td align="left">Number of dimensions.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(c=4\)</span></td>
<td align="left">Number of clusters.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(p=200\)</span></td>
<td align="left">Total number of points.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\mathbf{d}=\begin{bmatrix}1 &amp; 1\end{bmatrix}^T\)</span></td>
<td align="left">Average direction.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\theta_\sigma=\pi/16\approx{}11.25^{\circ}\)</span></td>
<td align="left">Angle dispersion.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\mathbf{s}=\begin{bmatrix}10 &amp; 10\end{bmatrix}^T\)</span></td>
<td align="left">Average cluster separation.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(l=10\)</span></td>
<td align="left">Average line length.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(l_\sigma=1.5\)</span></td>
<td align="left">Line length dispersion.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(f_\sigma=1\)</span></td>
<td align="left">Cluster lateral dispersion.</td>
</tr>
</tbody>
</table>
<p>Additionally, all optional parameters (not listed above) were left to their
default values. These will also be discussed next.</p>
<h2 id="detailed-description">Detailed description<a class="headerlink" href="#detailed-description" title="Permanent link">&para;</a></h2>
<p>In this section we provide a detailed description of the algorithm and its
parameters. We start by listing and describing all parameters (mandatory and
optional), and then analyze the algorithm in detail, highlighting how each
parameter influences the end result.</p>
<h3 id="algorithm-parameters">Algorithm parameters<a class="headerlink" href="#algorithm-parameters" title="Permanent link">&para;</a></h3>
<p>The <em>clugen</em> algorithm (and consequently, the <a class="autorefs autorefs-internal" href="../reference/#pyclugen.clugen"><code class="highlight">clugen()</code></a>
function) has mandatory and optional parameters, listed and described in the tables
below. The optional parameters are set to sensible defaults, and in many situations
may be left unchanged. Nonetheless, these allow all of the algorithm's steps to be
fully customized by the user.</p>
<h4 id="mandatory-parameters">Mandatory parameters<a class="headerlink" href="#mandatory-parameters" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th align="left">Symbol</th>
<th align="left">Parameter</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><span class="arithmatex">\(n\)</span></td>
<td align="left"><code class="highlight">num_dims</code></td>
<td align="left">Number of dimensions.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(c\)</span></td>
<td align="left"><code class="highlight">num_clusters</code></td>
<td align="left">Number of clusters.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(p\)</span></td>
<td align="left"><code class="highlight">num_points</code></td>
<td align="left">Total number of points to generate.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\mathbf{d}\)</span></td>
<td align="left"><code class="highlight">direction</code></td>
<td align="left">Average direction of cluster-supporting lines (<span class="arithmatex">\(n \times 1\)</span>).</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\theta_\sigma\)</span></td>
<td align="left"><code class="highlight">angle_disp</code></td>
<td align="left">Angle dispersion of cluster-supporting lines (radians).</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\mathbf{s}\)</span></td>
<td align="left"><code class="highlight">cluster_sep</code></td>
<td align="left">Average cluster separation in each dimension (<span class="arithmatex">\(n \times 1\)</span>).</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(l\)</span></td>
<td align="left"><code class="highlight">llength</code></td>
<td align="left">Average length of cluster-supporting lines.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(l_\sigma\)</span></td>
<td align="left"><code class="highlight">llength_disp</code></td>
<td align="left">Length dispersion of cluster-supporting lines.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(f_\sigma\)</span></td>
<td align="left"><code class="highlight">lateral_disp</code></td>
<td align="left">Cluster lateral dispersion, i.e., dispersion of points from their projection on the cluster-supporting line.</td>
</tr>
</tbody>
</table>
<h4 id="optional-parameters">Optional parameters<a class="headerlink" href="#optional-parameters" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th align="left">Symbol</th>
<th align="left">Parameter</th>
<th align="left">Default value</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><span class="arithmatex">\(\phi\)</span></td>
<td align="left"><code class="highlight">allow_empty</code></td>
<td align="left"><code class="highlight">False</code></td>
<td align="left">Allow empty clusters?</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\mathbf{o}\)</span></td>
<td align="left"><code class="highlight">cluster_offset</code></td>
<td align="left"><a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.zeros.html#numpy.zeros"><code class="highlight">zeros(num_dims)</code></a></td>
<td align="left">Offset to add to all cluster centers (<span class="arithmatex">\(n \times 1\)</span>).</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(p_\text{proj}()\)</span></td>
<td align="left"><code class="highlight">proj_dist_fn</code></td>
<td align="left"><code class="highlight">&quot;norm&quot;</code></td>
<td align="left">Distribution of point projections along cluster-supporting lines.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(p_\text{final}()\)</span></td>
<td align="left"><code class="highlight">point_dist_fn</code></td>
<td align="left"><code class="highlight">&quot;n-1&quot;</code></td>
<td align="left">Distribution of final points from their projections.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(c_s()\)</span></td>
<td align="left"><code class="highlight">clusizes_fn</code></td>
<td align="left"><a class="autorefs autorefs-internal" href="../reference/#pyclugen.clusizes"><code class="highlight">clusizes()</code></a></td>
<td align="left">Distribution of cluster sizes.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(c_c()\)</span></td>
<td align="left"><code class="highlight">clucenters_fn</code></td>
<td align="left"><a class="autorefs autorefs-internal" href="../reference/#pyclugen.clucenters"><code class="highlight">clucenters()</code></a></td>
<td align="left">Distribution of cluster centers.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(l()\)</span></td>
<td align="left"><code class="highlight">llengths_fn</code></td>
<td align="left"><a class="autorefs autorefs-internal" href="../reference/#pyclugen.llengths"><code class="highlight">llengths()</code></a></td>
<td align="left">Distribution of line lengths.</td>
</tr>
<tr>
<td align="left"><span class="arithmatex">\(\theta_\Delta()\)</span></td>
<td align="left"><code class="highlight">angle_deltas_fn</code></td>
<td align="left"><a class="autorefs autorefs-internal" href="../reference/#pyclugen.angle_deltas"><code class="highlight">angle_deltas()</code></a></td>
<td align="left">Distribution of line angle deltas (w.r.t. <span class="arithmatex">\(\mathbf{d}\)</span>).</td>
</tr>
</tbody>
</table>
<h3 id="the-algorithm-in-detail">The algorithm in detail<a class="headerlink" href="#the-algorithm-in-detail" title="Permanent link">&para;</a></h3>
<p>The <em>clugen</em> algorithm is presented in <a href="#overview">Overview</a>. In this section we
will analyze each of the algorithms steps in detail.</p>
<h4 id="1-normalize-mathbfd">1. Normalize <span class="arithmatex">\(\mathbf{d}\)</span><a class="headerlink" href="#1-normalize-mathbfd" title="Permanent link">&para;</a></h4>
<p>This is a basic step, which consists of converting <span class="arithmatex">\(\mathbf{d}\)</span> to a unit
vector:</p>
<div class="arithmatex">\[
\hat{\mathbf{d}} = \cfrac{\mathbf{d}}{\left\lVert\mathbf{d}\right\rVert}
\]</div>
<h4 id="2-determine-cluster-sizes">2. Determine cluster sizes<a class="headerlink" href="#2-determine-cluster-sizes" title="Permanent link">&para;</a></h4>
<p>Cluster sizes are given by the <span class="arithmatex">\(c_s()\)</span> function according to:</p>
<div class="arithmatex">\[
\mathbf{c_s} = c_s(c, p, \phi)
\]</div>
<p>where <span class="arithmatex">\(\mathbf{c_s}\)</span> is an <span class="arithmatex">\(c \times 1\)</span> integer vector containing the final
cluster sizes, <span class="arithmatex">\(c\)</span> is the number of clusters, <span class="arithmatex">\(p\)</span> is the total number of
points, and <span class="arithmatex">\(\phi\)</span> is a boolean which determines whether empty clusters are
acceptable.</p>
<p>The <span class="arithmatex">\(c_s()\)</span> function is an optional parameter, allowing users to customize its
behavior. By default, <span class="arithmatex">\(c_s()\)</span> is implemented by the
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.clusizes"><code class="highlight">clusizes()</code></a> function, which behaves according to the
following algorithm:</p>
<ol>
<li>Determine the size <span class="arithmatex">\(p_i\)</span> of each cluster <span class="arithmatex">\(i\)</span> according to
   <span class="arithmatex">\(p_i\sim\left\lfloor\max\left(\mathcal{N}(\frac{p}{c}, (\frac{p}{3c})^2),0\right)\right\rceil\)</span>,
   where <span class="arithmatex">\(\lfloor\rceil\)</span> denotes the round to nearest integer function, and
    <span class="arithmatex">\(\mathcal{N}(\mu,\sigma^2)\)</span> represents the normal distribution with
   mean <span class="arithmatex">\(\mu\)</span> and variance <span class="arithmatex">\(\sigma^2\)</span>.</li>
<li>Assure that the final cluster sizes add up to <span class="arithmatex">\(p\)</span> by incrementing the smallest
   cluster size while <span class="arithmatex">\(\sum_{i=1}^c p_i&lt;p\)</span> or decrementing the largest cluster
   size while <span class="arithmatex">\(\sum_{i=1}^c p_i&gt;p\)</span>. This step is delegated to the
   <a class="autorefs autorefs-internal" href="../reference/#pyclugen.fix_num_points"><code class="highlight">fix_num_points()</code></a> helper function.</li>
<li>If <span class="arithmatex">\(\neg\phi\wedge p\ge c\)</span> then, for each empty cluster <span class="arithmatex">\(i\)</span> (i.e.,
   <span class="arithmatex">\(p_i=0\)</span>), increment <span class="arithmatex">\(p_i\)</span> and decrement <span class="arithmatex">\(p_j\)</span>, where <span class="arithmatex">\(j\)</span> denotes the
   largest cluster. This step is delegated to the
   <a class="autorefs autorefs-internal" href="../reference/#pyclugen.fix_empty"><code class="highlight">fix_empty()</code></a> helper function.</li>
</ol>
<p>Figure 2 demonstrates possible cluster sizes with various definitions of <span class="arithmatex">\(c_s()\)</span>
for <span class="arithmatex">\(c=4\)</span> and <span class="arithmatex">\(p=5000\)</span>. The default behavior, implemented in the
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.clusizes"><code class="highlight">clusizes()</code></a> function, is shown in Figure 2a, while
Figures 2b-d present results obtained with custom user functions. Figure 2b
displays cluster sizes obtained with the discrete uniform distribution over
<span class="arithmatex">\(\left\{1, 2, \ldots, \frac{2p}{c}\right\}\)</span>, corrected with
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.fix_num_points"><code class="highlight">fix_num_points()</code></a>. In turn, Figure 2c highlights
cluster sizes obtained with the Poisson distribution with <span class="arithmatex">\(\lambda=\frac{p}{c}\)</span>,
also corrected with <a class="autorefs autorefs-internal" href="../reference/#pyclugen.fix_num_points"><code class="highlight">fix_num_points()</code></a>. The cluster
sizes shown in Figure 2d were determined with the same distribution (Poisson,
<span class="arithmatex">\(\lambda=\frac{p}{c}\)</span>), but were not corrected. Thus, cluster sizes do not add up
to <span class="arithmatex">\(p\)</span>, highlighting the fact that this is not a requirement of the <em>clugen</em>
algorithm, i.e., user-defined  <span class="arithmatex">\(c_s()\)</span> implementations can consider <span class="arithmatex">\(p\)</span> a hint
rather than an obligation.</p>
<p><img alt="**Figure 2** - Possible cluster sizes with various definitions of \(c_s()\) for
\(c=4\) and \(p=5000\)." src="https://raw.githubusercontent.com/clugen/.github/main/images/clusizes.png" /></p>
<h4 id="3-determine-cluster-centers">3. Determine cluster centers<a class="headerlink" href="#3-determine-cluster-centers" title="Permanent link">&para;</a></h4>
<p>Cluster sizes are given by the <span class="arithmatex">\(c_c()\)</span> function according to:</p>
<div class="arithmatex">\[
\mathbf{C} = c_c(c, \mathbf{s}, \mathbf{o})
\]</div>
<p>where <span class="arithmatex">\(\mathbf{C}\)</span> is an <span class="arithmatex">\(c \times n\)</span> matrix containing the final cluster
centers, <span class="arithmatex">\(c\)</span> is the number of clusters, <span class="arithmatex">\(\mathbf{s}\)</span> is the average cluster
separation (<span class="arithmatex">\(n \times 1\)</span> vector), and <span class="arithmatex">\(\mathbf{o}\)</span> is an <span class="arithmatex">\(n \times 1\)</span> vector
of cluster offsets.</p>
<p>The <span class="arithmatex">\(c_c()\)</span> function is an optional parameter, allowing users to customize its
behavior. By default, <span class="arithmatex">\(c_c()\)</span> is implemented by the
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.clucenters"><code class="highlight">clucenters()</code></a> function, which determines the cluster
centers according to:</p>
<div class="arithmatex">\[
\mathbf{C}=c\mathbf{U} \cdot \operatorname{diag}(\mathbf{s}) + \mathbf{1}\,\mathbf{o}^T
\]</div>
<p>where <span class="arithmatex">\(\mathbf{U}\)</span> is an <span class="arithmatex">\(c \times n\)</span> matrix of random values drawn from the
uniform distribution between -0.5 and 0.5, and <span class="arithmatex">\(\mathbf{1}\)</span> is an <span class="arithmatex">\(c \times 1\)</span>
vector with all entries equal to 1.</p>
<p>Figure 3 shows scatters plots of the results generated by <em>clugen</em> for two
different implementations of the <span class="arithmatex">\(c_c()\)</span> function, namely using the uniform the
distribution (the default, implemented by the
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.clucenters"><code class="highlight">clucenters()</code></a> function, Figure 3a), and direct
specification of cluster centers (Figure 3b).</p>
<p><img alt="**Figure 3** - The output of *clugen* for two different implementations of the
\(c_c()\) function for finding cluster centers: a) the default, using the uniform
distribution; b) hand-picked centers. All parameters are the same as in Figure 1,
except for \(p\), which is set to
5000." src="https://raw.githubusercontent.com/clugen/.github/main/images/clucenters.png" /></p>
<h4 id="4-determine-lengths-of-cluster-supporting-lines">4. Determine lengths of cluster-supporting lines<a class="headerlink" href="#4-determine-lengths-of-cluster-supporting-lines" title="Permanent link">&para;</a></h4>
<p>The lengths of the cluster-supporting lines are given by the <span class="arithmatex">\(l()\)</span> function
according to:</p>
<div class="arithmatex">\[
\pmb{\ell} = l(c, l, l_\sigma)
\]</div>
<p>where <span class="arithmatex">\(\pmb{\ell}\)</span> is an <span class="arithmatex">\(c \times 1\)</span> vector containing the final lengths of
the cluster-supporting lines, <span class="arithmatex">\(c\)</span> is the number of clusters, <span class="arithmatex">\(l\)</span> is the average
length, and <span class="arithmatex">\(l_\sigma\)</span> is the length dispersion.</p>
<p>The <span class="arithmatex">\(l()\)</span> function is an optional parameter, allowing users to customize its
behavior. By default, <span class="arithmatex">\(l()\)</span> is implemented by the
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.llengths"><code class="highlight">llengths()</code></a> function, which determines the <span class="arithmatex">\(\ell_i\)</span>
length of each cluster-supporting line <span class="arithmatex">\(i\)</span> according to:</p>
<div class="arithmatex">\[
\ell_i\sim\left|\mathcal{N}(l,l_\sigma^2)\right|
\]</div>
<p>where <span class="arithmatex">\(\left|\mathcal{N}(\mu,\sigma^2)\right|\)</span> represents the folded normal
distribution with mean <span class="arithmatex">\(\mu\)</span> and variance <span class="arithmatex">\(\sigma^2\)</span>.</p>
<p>Figure 4 shows cluster-supporting line lengths obtained with different implementations
of <span class="arithmatex">\(l()\)</span>.</p>
<p><img alt="**Figure 4** - Line lengths for different implementations of \(l()\): a) the
default, using the folded normal distribution; b) using the Poisson distribution,
with \(\lambda=l\); c) using the uniform distribution in the interval
\(\left\lbrack 0, 2l\right\rbrack\); and, d) hand-picked lengths, more specifically
\(\pmb{\ell}=\begin{bmatrix}2 &amp; 8 &amp; 16 &amp; 32\end{bmatrix}^T\). Cluster centers,
as well as parameters \(l\) and \(l_\sigma\), are the same as for the example
shown in Figure 1." src="https://raw.githubusercontent.com/clugen/.github/main/images/llengths.png" /></p>
<h4 id="5-determine-angles-between-mathbfd-and-cluster-supporting-lines">5. Determine angles between <span class="arithmatex">\(\mathbf{d}\)</span> and cluster-supporting lines<a class="headerlink" href="#5-determine-angles-between-mathbfd-and-cluster-supporting-lines" title="Permanent link">&para;</a></h4>
<p>The angles between <span class="arithmatex">\(\mathbf{d}\)</span> and the cluster-supporting lines are given by
the <span class="arithmatex">\(\theta_\Delta()\)</span> function according to:</p>
<div class="arithmatex">\[
\mathbf{\Theta_\Delta} = \theta_\Delta(c, \theta_\sigma)
\]</div>
<p>where <span class="arithmatex">\(\mathbf{\Theta_\Delta}\)</span> is an <span class="arithmatex">\(c \times 1\)</span> vector containing the final
angle differences between <span class="arithmatex">\(\mathbf{d}\)</span> and the cluster-supporting lines, <span class="arithmatex">\(c\)</span>
is the number of clusters, and <span class="arithmatex">\(\theta_\sigma\)</span> is the angle dispersion.</p>
<p>The <span class="arithmatex">\(\theta_\Delta()\)</span> function is an optional parameter, allowing users to
customize its behavior. By default, <span class="arithmatex">\(\theta_\Delta()\)</span> is implemented by the
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.angle_deltas"><code class="highlight">angle_deltas()</code></a> function, which determines the
<span class="arithmatex">\(\theta_{\Delta i}\)</span> angle difference between <span class="arithmatex">\(\mathbf{d}\)</span> and the <span class="arithmatex">\(i\)</span>-th
cluster-supporting line according to:</p>
<div class="arithmatex">\[
\theta_{\Delta i}\sim\mathcal{WN}_{-\pi/2}^{\pi/2}(0,\theta_\sigma^2)
\]</div>
<p>where <span class="arithmatex">\(\mathcal{WN}_{-\pi/2}^{\pi/2}(\mu,\sigma^2)\)</span> represents the wrapped normal
distribution with mean <span class="arithmatex">\(\mu\)</span>, variance <span class="arithmatex">\(\sigma^2\)</span>, and support in the
<span class="arithmatex">\(\left[-\pi/2,\pi/2\right]\)</span> interval, and <span class="arithmatex">\(\theta_\sigma\)</span> is the angle
dispersion of the cluster-supporting lines.</p>
<p>Figure 5 shows the final direction of the cluster-supporting lines for two
different implementations of <span class="arithmatex">\(\theta_\Delta()\)</span>.</p>
<p><img alt="**Figure 5** - Final directions of the cluster supporting-lines for different
implementations of \(\theta_\Delta()\): a) the default, where angle differences
were obtained using the wrapped normal distribution; and, d) hand-picked angle
differences, more specifically
\(\mathbf{\Theta_\Delta}=\begin{bmatrix}0 &amp; \frac{\pi}{2} &amp; 0 &amp; \frac{\pi}{2}\end{bmatrix}^T\).
Cluster centers, as well as the angle dispersion \(\theta_\sigma\), are the same
as for the example shown in Figure 1." src="https://raw.githubusercontent.com/clugen/.github/main/images/angle_deltas.png" /></p>
<h4 id="6-for-each-cluster-i">6. For each cluster <span class="arithmatex">\(i\)</span>:<a class="headerlink" href="#6-for-each-cluster-i" title="Permanent link">&para;</a></h4>
<h5 id="61-determine-direction-of-the-cluster-supporting-line">6.1. Determine direction of the cluster-supporting line<a class="headerlink" href="#61-determine-direction-of-the-cluster-supporting-line" title="Permanent link">&para;</a></h5>
<p>In order to obtain the <span class="arithmatex">\(\hat{\mathbf{d}}_i\)</span> final direction of cluster <span class="arithmatex">\(i\)</span>
supporting line, the following algorithm is used:</p>
<ul>
<li><strong>1.</strong> Find random vector <span class="arithmatex">\(\mathbf{r}\)</span> with each component taken from the
  uniform distribution between -0.5 and 0.5.</li>
<li><strong>2.</strong> Normalize <span class="arithmatex">\(\mathbf{r}\)</span>:</li>
</ul>
<div class="arithmatex">\[
\hat{\mathbf{r}}=\cfrac{\mathbf{r}}{\left\lVert\mathbf{r}\right\rVert}
\]</div>
<ul>
<li><strong>3.</strong> If <span class="arithmatex">\(|\theta_{\Delta i}| &gt; \pi/2\)</span> or <span class="arithmatex">\(n=1\)</span>, set
  <span class="arithmatex">\(\hat{\mathbf{d}}_i=\hat{\mathbf{r}}\)</span> and terminate the algorithm.</li>
<li><strong>4.</strong> If <span class="arithmatex">\(\hat{\mathbf{r}}\)</span> is parallel to <span class="arithmatex">\(\hat{\mathbf{d}}\)</span> go to <strong>1</strong>.</li>
<li><strong>5.</strong> Determine vector <span class="arithmatex">\(\mathbf{d}_\perp\)</span> orthogonal to <span class="arithmatex">\(\hat{\mathbf{d}}\)</span>
  using the first iteration of the Gram-Schmidt process:</li>
</ul>
<div class="arithmatex">\[
\mathbf{d}_\perp=\hat{\mathbf{r}}-\cfrac{\hat{\mathbf{d}}\cdot\hat{\mathbf{r}}}{\hat{\mathbf{d}}\cdot\hat{\mathbf{d}}}\:\hat{\mathbf{d}}
\]</div>
<ul>
<li><strong>6.</strong> Normalize <span class="arithmatex">\(\mathbf{d}_\perp\)</span>:</li>
</ul>
<div class="arithmatex">\[
\hat{\mathbf{d}}_\perp=\cfrac{\mathbf{d}_\perp}{\left\lVert\mathbf{d}_\perp\right\rVert}
\]</div>
<ul>
<li><strong>7.</strong> Determine vector <span class="arithmatex">\(\mathbf{d}_i\)</span> at angle <span class="arithmatex">\(\theta_{\Delta i}\)</span> with
  <span class="arithmatex">\(\hat{\mathbf{d}}\)</span>:</li>
</ul>
<div class="arithmatex">\[
\mathbf{d}_i=\hat{\mathbf{d}}+\tan(\theta_{\Delta i})\hat{\mathbf{d}}_\perp
\]</div>
<ul>
<li><strong>8.</strong> Normalize <span class="arithmatex">\(\mathbf{d}_i\)</span>:</li>
</ul>
<div class="arithmatex">\[
\hat{\mathbf{d}}_i=\cfrac{\mathbf{d}_i}{\left\lVert\mathbf{d}_i\right\rVert}
\]</div>
<h5 id="62-determine-distance-of-point-projections-from-the-center-of-the-cluster-supporting-line">6.2. Determine distance of point projections from the center of the cluster-supporting line<a class="headerlink" href="#62-determine-distance-of-point-projections-from-the-center-of-the-cluster-supporting-line" title="Permanent link">&para;</a></h5>
<p>The distance of point projections from the center of the cluster-supporting line
is given by the <span class="arithmatex">\(p_\text{proj}()\)</span> function according to:</p>
<div class="arithmatex">\[
\mathbf{w}_i = p_\text{proj}(\ell_i, p_i)
\]</div>
<p>where <span class="arithmatex">\(\mathbf{w}_i\)</span> is an <span class="arithmatex">\(p_i \times 1\)</span> vector containing the distance of
each point projection to the center of the line, while <span class="arithmatex">\(\ell_i\)</span> and <span class="arithmatex">\(p_i\)</span> are
the line length and number of points in cluster <span class="arithmatex">\(i\)</span>, respectively.</p>
<p>The <span class="arithmatex">\(p_\text{proj}()\)</span> function is an optional parameter, allowing users to
customize its behavior. <code class="highlight">pyclugen</code> provides two concrete implementations out of
the box, specified by passing <code class="highlight">&quot;norm&quot;</code> or <code class="highlight">&quot;unif&quot;</code> to
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.clugen"><code class="highlight">clugen()</code></a>'s <code class="highlight">proj_dist_fn</code> parameter. These work as
follows:</p>
<ul>
<li><code class="highlight">&quot;norm&quot;</code> (default) - Each element of <span class="arithmatex">\(\mathbf{w}_i\)</span> is derived from
  <span class="arithmatex">\(\mathcal{N}(0, (\frac{\ell_i}{6})^2)\)</span>, i.e., from the normal distribution,
  centered on the cluster-supporting line center (<span class="arithmatex">\(\mu=0\)</span>) and with a standard
  deviation of <span class="arithmatex">\(\sigma=\frac{\ell_i}{6}\)</span>, such that the length of the line
  segment encompasses <span class="arithmatex">\(\approx\)</span> 99.73% of the generated projections. Consequently,
  some projections may be placed outside the line's end points.</li>
<li><code class="highlight">&quot;unif&quot;</code> - Each element of <span class="arithmatex">\(\mathbf{w}_i\)</span> is derived from
  <span class="arithmatex">\(\mathcal{U}(-\frac{\ell_i}{2}, \frac{\ell_i}{2})\)</span>, i.e., from the continuous
  uniform distribution in the interval <span class="arithmatex">\(\left[-\frac{\ell_i}{2}, \frac{\ell_i}{2}\right[\)</span>.
  Thus, projections will be uniformly dispersed along the cluster-supporting line.</li>
</ul>
<p>The impact of various implementations of <span class="arithmatex">\(p_\text{proj}()\)</span> is demonstrated in
Figure 6. Figures 6a and 6b show the clusters generated with the <code class="highlight">&quot;norm&quot;</code> and
<code class="highlight">&quot;unif&quot;</code> options, respectively, while Figures 6c and 6d highlight custom user
functions implementing the Laplace and Rayleigh distributions, respectively.
All parameters are set as in Figure 1, except for <span class="arithmatex">\(p_\text{proj}()\)</span> in the case
of Figures 6b-6d, and <span class="arithmatex">\(p\)</span>, which is set to 5000.</p>
<p><img alt="**Figure 6** - Clusters generated for various implementations of \(p_\text{proj}()\):
a) the default, where line center distances are drawn for the normal distribution,
specified using the in-built &quot;norm&quot; option; b) in which center distances are
derived from the uniform distribution, via the in-built &quot;unif&quot; option; c) where
line center distances are obtained from a custom user function implementing the
Laplace distribution; and, d) in which a custom user function returns center
distances drawn from the Rayleigh distribution. All parameters are set as in Figure
1, except for \(p_\text{proj}()\) in the case of Figures 6b-6d, and \(p\), which
is set to 5000." src="https://raw.githubusercontent.com/clugen/.github/main/images/proj_dist_fn.png" /></p>
<h5 id="63-determine-coordinates-of-point-projections-on-the-cluster-supporting-line">6.3. Determine coordinates of point projections on the cluster-supporting line<a class="headerlink" href="#63-determine-coordinates-of-point-projections-on-the-cluster-supporting-line" title="Permanent link">&para;</a></h5>
<p>This is a deterministic step performed by the
<a class="autorefs autorefs-internal" href="../reference/#pyclugen.points_on_line"><code class="highlight">points_on_line()</code></a> function using the vector
formulation of the line equation, as follows:</p>
<div class="arithmatex">\[
\mathbf{P}_i^\text{proj}=\mathbf{1}\,\mathbf{c}_i^T + \mathbf{w}_i\hat{\mathbf{d}}_i^T
\]</div>
<p>where <span class="arithmatex">\(\mathbf{P}_i^\text{proj}\)</span> is the <span class="arithmatex">\(p_i \times n\)</span> matrix of point projection
coordinates on the line, <span class="arithmatex">\(\mathbf{1}\)</span> is an <span class="arithmatex">\(p_i \times 1\)</span> vector with all entries
equal to 1, <span class="arithmatex">\(\mathbf{c}_i\)</span> are the coordinates of the line center (<span class="arithmatex">\(n \times 1\)</span>
vector), <span class="arithmatex">\(\mathbf{w}_i\)</span> is the distance of each point projection to the center of
the line (<span class="arithmatex">\(p_i \times 1\)</span> vector obtained in the previous step), and
<span class="arithmatex">\(\hat{\mathbf{d}}_i\)</span> is the direction of the cluster-supporting line for cluster
<span class="arithmatex">\(i\)</span>.</p>
<h5 id="64-determine-points-from-their-projections-on-the-cluster-supporting-line">6.4. Determine points from their projections on the cluster-supporting line<a class="headerlink" href="#64-determine-points-from-their-projections-on-the-cluster-supporting-line" title="Permanent link">&para;</a></h5>
<p>The final cluster points, obtained from their projections on the cluster-supporting
line, are given by the <span class="arithmatex">\(p_\text{final}()\)</span> function according to:</p>
<div class="arithmatex">\[
\mathbf{P}_i^\text{final} = p_\text{final}(\mathbf{P}_i^\text{proj}, f_\sigma, \ell_i, \hat{\mathbf{d}}_i, \mathbf{c}_i)
\]</div>
<p>where <span class="arithmatex">\(\mathbf{P}_i^\text{final}\)</span> is a <span class="arithmatex">\(p_i \times n\)</span> matrix containing the
coordinates of the generated points, <span class="arithmatex">\(\mathbf{P}_i^\text{proj}\)</span> is the
<span class="arithmatex">\(p_i \times n\)</span> matrix of projection coordinates (determined in the previous step),
and <span class="arithmatex">\(f_\sigma\)</span> is the lateral dispersion parameter. In turn, <span class="arithmatex">\(\ell_i\)</span>,
<span class="arithmatex">\(\hat{\mathbf{d}}_i\)</span> and <span class="arithmatex">\(\mathbf{c}_i\)</span> are the length, direction and center
of the cluster-supporting line.</p>
<p>The <span class="arithmatex">\(p_\text{final}()\)</span> function is an optional parameter, allowing users to
customize its behavior. <code class="highlight">pyclugen</code> provides two concrete implementations out of
the box, specified by passing <code class="highlight">&quot;n-1&quot;</code> or <code class="highlight">&quot;n&quot;</code> to <a class="autorefs autorefs-internal" href="../reference/#pyclugen.clugen"><code class="highlight">clugen()</code></a>'s
<code class="highlight">point_dist_fn</code> parameter. These work as follows:</p>
<ul>
<li><code class="highlight">&quot;n-1&quot;</code> (default) - Points are placed on a hyperplane orthogonal to the
  cluster-supporting line and intersecting the point's projection. This is done
  by obtaining <span class="arithmatex">\(p_i\)</span> random unit vectors orthogonal to <span class="arithmatex">\(\hat{\mathbf{d}}_i\)</span>,
  and determining their magnitude using the normal distribution
  (<span class="arithmatex">\(\mu=0\)</span>, <span class="arithmatex">\(\sigma=f_\sigma\)</span>). These vectors are then added to the respective
  projections on the cluster-supporting line, yielding the final cluster points.
  This behavior is implemented in the <a class="autorefs autorefs-internal" href="../reference/#pyclugen.clupoints_n_1"><code class="highlight">clupoints_n_1()</code></a>
  function.</li>
<li><code class="highlight">&quot;n&quot;</code> - Points are placed around their respective projections. This is done by
  obtaining <span class="arithmatex">\(p_i\)</span> random unit vectors, and determining their magnitude using
  the normal distribution (<span class="arithmatex">\(\mu=0\)</span>, <span class="arithmatex">\(\sigma=f_\sigma\)</span>). These vectors are
  then added to the respective projections on the cluster-supporting line,
  yielding the final cluster points. This behavior is implemented in the
  <a class="autorefs autorefs-internal" href="../reference/#pyclugen.clupoints_n"><code class="highlight">clupoints_n()</code></a> function.</li>
</ul>
<p>Figure 7 highlights the differences between these two approaches in 2D, where a
hyperplane is simply a line.</p>
<p><img alt="**Figure 7** - Example of how the final cluster points are obtained in 2D when
using the built-in implementations for \(p_\text{final}()\)." src="https://raw.githubusercontent.com/clugen/.github/main/images/point_dist_ex.png" /></p>
<p>In general, points can be placed using a <code class="highlight">&quot;n-1&quot;</code> or <code class="highlight">&quot;n&quot;</code> strategy using any
distribution. Figure 8 displays several examples for various implementations of
<span class="arithmatex">\(p_\text{final}()\)</span>, either based on <code class="highlight">&quot;n-1&quot;</code> or <code class="highlight">&quot;n&quot;</code> strategy, using
different distributions. Figures 8a and 8b show the built-in <code class="highlight">&quot;n-1&quot;</code> and <code class="highlight">&quot;n&quot;</code>
strategies making use of the normal distribution. Figures 8c-8f highlight some
possibilities with custom user functions. Figure 8c shows the effect of using
the exponential distribution in a <code class="highlight">&quot;n-1&quot;</code> strategy, while Figure 8d displays
the result of using a bimodal distribution with the same strategy. A more complex
distribution, producing "hollow" clusters with a <code class="highlight">&quot;n&quot;</code> strategy, is employed in
Figures 8e and 8f, with the latter also having the <span class="arithmatex">\(p_\text{proj}()\)</span> function
set to <code class="highlight">&quot;unif&quot;</code>. The remaining parameters (for all subfigures) are set as in
Figure 1, except for <span class="arithmatex">\(p\)</span>, which is set to 5000.</p>
<p><img alt="**Figure 8** - Examples of various implementations of \(p_\text{final}()\).
Figures a and b shown the effect of the built-in implementations, while Figures
c-f display results obtained using custom user functions." src="https://raw.githubusercontent.com/clugen/.github/main/images/point_dist_fn.png" /></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="CC-BY License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    </div>
  
  
    Made with
    <a
      href="https://www.mkdocs.org/"
      target="_blank" rel="noopener"
    >
      MkDocs
    </a>,
    <a
      href="https://mkdocstrings.github.io/"
      target="_blank" rel="noopener"
    >
      mkdocstrings
    </a>,
    <a
      href="https://squidfunk.github.io/mkdocs-material/"
      target="_blank" rel="noopener"
    >
      Material for MkDocs
    </a> and
    <a
      href="https://smarie.github.io/mkdocs-gallery/"
      target="_blank" rel="noopener"
    >
      MkDocs Gallery
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.expand", "navigation.indexes", "navigation.tabs", "navigation.tabs.sticky", "toc.integrate"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.b4d07000.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>